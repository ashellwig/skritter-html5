gelato-component(data-name='vocablists-list-editor-rows')
  - var rows = view.rows;
  - var vocablist = view.vocablist;
  - var vocablistSection = view.vocablistSection;

  mixin wordRow(row, index)
    .row(class=index % 2 ? 'even' : 'odd', data-index=index, data-row-id=row.id)
      case row.state

        when 'loaded'
          if row.vocabs.length
            - var vocab1 = row.vocabs[0];
            - var vocab2 = row.vocabs[1];

            .col-xs-2.vocab-writing
              if (vocablist.isEditable())
                i.fa.fa-ellipsis-v.ellipse-icon
                | &nbsp;&nbsp;&nbsp;&nbsp;
              span(class=vocab1.getFontClass())= vocab1.get('writing')

            .col-xs-2.vocab-writing
              if vocab1.isChinese()
                span(class=vocab1.getFontClass())= vocab1.getWritingDifference(vocab2.id)
              if vocab1.isJapanese()
                span.study-writing(class=row.studyWriting ? 'active' : '') W

            .col-xs-2.vocab-reading= vocab1.getReading()

            .col-xs-3.vocab-definition!= vocab1.getDefinition()

            .col-xs-3.vocab-options.text-right
              if row.results && row.results.length > 1
                button.show-results.btn.btn-sm.btn-info All Results
                | &nbsp;&nbsp;
              i.remove-row.fa.fa-trash

            if row.results
              .result-rows.hidden
                for result, index in row.results
                  - var vocab1 = result.vocabs[0];
                  - var vocab2 = result.vocabs[1];

                  .result-row(data-index=index)

                    .vocab-writing(class=vocab1.getFontClass())
                      span= vocab1.get('writing')
                      if vocab1.get('writing') !== vocab2.get('writing')
                        | &nbsp;&nbsp;&nbsp;
                        span= '(' + vocab2.get('writing') + ')'

                    .vocab-reading= vocab1.getReading()

                    .vocab-definition!= vocab1.getDefinition()

        when 'not-found'
          .col-xs-8= row.query + ' not found.'
          .col-xs-4.text-right
            button.btn.btn-sm.btn-warning Add Entry
            | &nbsp;&nbsp;&nbsp;
            i.remove-row.fa.fa-trash

        default
          .col-xs-12.loading-row
            i.fa.fa-refresh.fa-spin
            | &nbsp;&nbsp;
            span= 'searching for ' + row.query

  if vocablistSection.state === 'standby'
    #vocablist-section-rows
      for row, index in rows
        +wordRow(row, index)

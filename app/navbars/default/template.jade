bootstrap-navbar(data-name='default')
	- var user = app.user;

	nav.navbar.navbar-inverse.navbar-fixed-top
		.container

			.navbar-header
				button.navbar-toggle.collapsed(type="button", data-toggle="collapse", data-target="#navbar-collapse", aria-expanded="false")
					span.sr-only Toggle navigation
					span.icon-bar
					span.icon-bar
					span.icon-bar
				a.navbar-brand(href="/") Skritter

			#navbar-collapse.collapse.navbar-collapse

				if user.isLoggedIn()

					ul.nav.navbar-nav
						li
							a(href="/study") Study
						li
							a(href="/vocablists") Lists
						li
							a(href="/words") Words
						li
							//TODO: replace when progress stats supported
							a(href="/stats") Stats

					ul.nav.navbar-nav.navbar-right
						li
							a(href="http://www.skritter.com/home") Back to skritter.com
						li.dropdown
							a.dropdown-toggle(href="#", data-toggle="dropdown", role="button", aria-haspopup="true", aria-expanded="false")
								span= user.get('name')
								| &nbsp;&nbsp;&nbsp;
								span.caret
							ul.dropdown-menu
								li
									a(href="/account") Account
								li
									a(href="https://blog.skritter.com/") Blog
								li
									a(href="http://classroom.skritter.com", target="_blank") Classroom
								li
									a(href="https://discourse.skritter.com/", target="_blank") Forum
								li.divider(role="separator")
								li
									a#button-logout(href="#") Logout
						li.dropdown.target-lang-dropdown
							a.dropdown-toggle(href="#", data-toggle="dropdown", role="button", aria-haspopup="true", aria-expanded="false")
								- var lang = user.get('targetLang');
								- var otherLang = lang === 'zh' ? 'ja' : 'zh';
								img(src="/media/images/flags/flag-#{lang}.png", alt="", class="flag", id="currently-studying-flag")
								| &nbsp;&nbsp;&nbsp;
								span.caret
							ul.dropdown-menu.language-select-menu
								li.currently-studying
									//img(src="media/images/flags/flag-#{lang}.png" alt="" class="flag")
									| You are studying #{view.getDisplayLanguageName(user.get('targetLang'))}.
								li.divider(role="separator")
								li
									a(href="#", id="switch-targetLang")
										img(src="/media/images/flags/flag-#{otherLang}.png", alt="", class="flag")
										| Study #{view.getDisplayLanguageName(otherLang)}
						li
							a#button-beacon(href="#")
								i.fa.fa-question-circle

				else

					ul.nav.navbar-nav
						li
							a(href="/features") Features
						li
							a(href="https://blog.skritter.com/") Blog
						li
							a(href="https://discourse.skritter.com/") Forum

					ul.nav.navbar-nav.navbar-right
						li
							a(href="http://www.skritter.com/home") Back to skritter.com
						if user.isLoggedIn()
							li
								a(href="/dashboard") Dashboard
						else
							li
								a(href="/signup") Signup
							li
								a(href="/login") Login
